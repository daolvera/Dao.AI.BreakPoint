@if (playerWithStats()){
<h1 class="ms-2">{{ playerWithStats()?.name }}</h1>
<div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
  <!-- Player Profile Card -->
  <mat-card class="m-2 p-4">
    <mat-card-title>Player Profile</mat-card-title>
    <mat-card-content>
      <p><strong>Name:</strong> {{ playerWithStats()?.name }}</p>
    </mat-card-content>
  </mat-card>

  <!-- Match Stats Card -->
  <mat-card class="m-2 p-4">
    <mat-card-title>Match Stats</mat-card-title>
    <mat-card-content>
      <p><strong>Matches Won:</strong> {{ playerWithStats()?.matchesWon }}</p>
    </mat-card-content>
  </mat-card>

  <!-- Coaching Card -->
  <mat-card class="m-2 p-4">
    <mat-card-title>Coaching History</mat-card-title>
    <mat-card-content>
      @for (tip of playerWithStats()?.latestCoachingTips; track $index){
      <p>{{ tip }}</p>
      } @empty {
      <p>No coaching tips available.</p>
      }
    </mat-card-content>
  </mat-card>
</div>

<!-- Tennis Swing Videos Section -->
<div class="mt-8">
  <mat-card class="p-4">
    <mat-card-title class="flex justify-between items-center">
      <span>Tennis Swing Videos</span>
      <button mat-raised-button color="primary" (click)="toggleVideoUpload()">
        <mat-icon>{{ showVideoUpload() ? "close" : "video_call" }}</mat-icon>
        {{ showVideoUpload() ? "Cancel" : "Upload Video" }}
      </button>
    </mat-card-title>

    <mat-card-content>
      @if (showVideoUpload()) {
      <div class="mt-4">
        <app-video-upload
          [playerId]="authService.userInfo()!.playerId!"
          (videoUploaded)="onVideoUploaded($event)"
        >
        </app-video-upload>
      </div>
      } @else {
      <div class="no-videos">
        <mat-icon>video_library</mat-icon>
        <p>No tennis swing videos uploaded yet.</p>
        <p class="text-sm text-gray-600">
          Upload your first video to get personalized coaching feedback!
        </p>
      </div>
      }
    </mat-card-content>
  </mat-card>
</div>
}
